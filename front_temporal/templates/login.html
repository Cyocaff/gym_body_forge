
<form id="login_form">
	<input type="text" name="username">
	<input type="password" name="password">
	<input type="submit">
</form>

<script>
$(document).on('submit', '#login_form', function(e) {
    e.preventDefault();
    
    const username = $('input[name="username"]').val();
    const password = $('input[name="password"]').val();

    $.ajax({
        url: 'http://localhost:8000/auth/login/',
        method: 'POST',
        crossDomain: true,
        credentials: 'include',
        headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json'
        },
        data: JSON.stringify({
            username: username,
            password: password
        }),
        success: function(response) {
            localStorage.setItem('accessToken', response.access);
            localStorage.setItem('refreshToken', response.refresh);
            console.log('Login successful');
			window.location.href = '/home';
        },
        error: function(xhr, status, error) {
            console.log('Login failed:', error);
            console.log(xhr.responseText);
        }
    });
});
</script>
